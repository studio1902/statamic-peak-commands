{{#
    @name Register
    @desc The Register page builder block.
    @set page.page_builder.register
#}}

<!-- /page_builder/_register.antlers.html -->
{{ if logged_in }}
    {{ redirect to="{ intranet:account_entry | url }" }}
{{ /if }}

<section class="fluid-grid">
    <div class="span-content md:col-span-6 md:col-start-[col-1] stack-8" id="form">
        {{ partial:typography/prose }}
            {{ block:introduction }}
        {{ /partial:typography/prose }}

        {{ user:register_form redirect="{ intranet:email_verify_entry | url }" error_redirect="#form" class="stack-6" }}
            <div class="hidden">
                {{# Honeypot #}}
                <label class="font-bold" for="{{ config:statamic:users:registration_form_honeypot_field }}">{{ config:statamic:users:registration_form_honeypot_field | ucfirst }} <sup class="text-yellow-400">*</sup></label>
                <input class="form-input w-full" id="{{ config:statamic:users:registration_form_honeypot_field }}" type="text" name="{{ config:statamic:users:registration_form_honeypot_field }}" tabindex="-1" autocomplete="off">
            </div>

            {{ partial:components/form_input field_handle="first_name" type="text" label="{ trans:strings.account_first_name }" required="true" old_value="{ old:first_name }" }}

            {{ partial:components/form_input field_handle="last_name" type="text" label="{ trans:strings.account_last_name }" required="true" old_value="{ old:last_name }" }}

            {{ partial:components/form_input field_handle="email" type="email" label="{ trans:strings.account_email }" required="true" old_value="{ old:email }" }}

            {{ partial:components/form_input field_handle="password" type="password" label="{ trans:strings.account_password }" required="true" old_value="{ old:password }" }}

            {{ partial:components/form_input field_handle="password_confirmation" type="password" label="{ trans:strings.account_password_confirmation }" required="true" old_value="{ old:password_confirmation }" }}

            {{ if errors }}
                {{ partial:components/notification type="error" content="{ errors | list }" }}
            {{ /if }}

            <div class="flex justify-end">
                {{ partial:components/button as="button" button_type="button" label="{ trans:strings.account_register }" }}
            </div>
        {{ /user:register_form }}
    </div>
</section>
<!-- End: /page_builder/_register.antlers.html -->
